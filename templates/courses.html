<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">-->
    <title>Course Registration</title>
</head>
<body style="font-family:cursive;background-color:lightgrey;">
        <h1 align="center" style="color:darkblue;margin:50px 50px 100px 50px;text-shadow:2px 2px 4px black">All Courses</h1>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
               {% for message in messages %}
                <div style="text-align:center;border:1px solid black;background-color:lightgreen;color:black;width:350px;padding:10px;border-radius:10px;margin:0 auto;text-shadow:1px 1px 2px azure;margin-top:-70px;margin-bottom:-24px" align="center">
                  <strong>{{ message }}</strong>
                </div>
               {% endfor %}
             {% endif %}
          {% endwith %}
        <table border="1" width="75%" cellspacing="1px" cellpadding="15px" align="center" style="font-size:17px;margin:50px auto">
            <thead>
                <tr align="center">
                    <th style="text-shadow:1px 1px 3px darkred">Course code</th>
                    <th style="text-shadow:1px 1px 3px darkred">Course name</th>
                    <th style="text-shadow:1px 1px 3px darkred">Doctor's name</th>
                    <th style="text-shadow:1px 1px 3px darkred">Credit hours</th>
                    <th style="text-shadow:1px 1px 3px darkred">Max degree</th>
                    <th style="color:green;text-shadow:1px 1px 0 darkgreen;">Add</th>
                </tr>
            </thead>
            <tbody>
            {% for course in courses %}
                <tr align="center">
                    <td>{{ course['code'] }}</td>
                    <td>{{ course['name'] }}</td>
                    <td>Dr. {{ course['dr'] }}</td>
                    <td>{{ course['hours'] }}</td>
                    <td>{{ course['degree'] }}</td>
                    <td>
                        <form action="/add" method="POST">
                            <input hidden name="code" value="{{ course['code'] }}">
                            <button type="submit" style="background-color:green;color:azure;padding:3px 10px;cursor:pointer;border-color:darkgreen;border-radius:7px;">Add</button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <hr width="80%" color="azure">
        <h1 align="center" style="color:teal;margin:50px;text-shadow:2px 2px 4px black">Registered Courses</h1>
        <pre style="color:darkred;margin:50px 370px;font-size:18px;text-shadow:1px 1px 1px black;"><b>Max registered courses is (5)               Hours : {{ hours }}               Courses : {{ number }}</b></pre>
        <table border="1" width="75%" cellspacing="1px" cellpadding="15px" align="center" style="font-size:17px;margin:50px auto;">
            <thead>
                <tr align="center">
                    <th style="text-shadow:1px 1px 3px darkgreen">Course code</th>
                    <th style="text-shadow:1px 1px 3px darkgreen">Course name</th>
                    <th style="text-shadow:1px 1px 3px darkgreen">Doctor's name</th>
                    <th style="text-shadow:1px 1px 3px darkgreen">Credit hours</th>
                    <th style="text-shadow:1px 1px 3px darkgreen">Max degree</th>
                    <th style="color:red;text-shadow:1px 1px 0 darkred;">Drop</th>
                </tr>
            </thead>
            <tbody>
            {% for course in registered %}
                <tr align="center">
                    <td>{{ course['code'] }}</td>
                    <td>{{ course['name'] }}</td>
                    <td>Dr. {{ course['dr'] }}</td>
                    <td>{{ course['hours'] }}</td>
                    <td>{{ course['degree'] }}</td>
                    <td>
                        <form action="/drop" method="POST">
                            <input hidden name="code" value="{{ course['code'] }}">
                            <button type="submit" style="background-color:red;color:azure;padding:3px 10px;cursor:pointer;border-color:darkred;border-radius:7px;">Drop</button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <form action="/final" method="POST">
            <button type="submit" style="background-color:blue;color:azure;cursor:pointer;border-color:blue;margin:-10px 705px 10px;font-size:17px;padding:10px 20px;text-shadow:1px 1px 3px black;border-radius:10px;">Submit</button>
        </form>
        <br>
        <a href="/logout" style="width:80px;color:azure;background-color:red;border:1px solid red;border-radius:10px;margin:-10px 705px 50px;text-decoration:none;font-size:17px;padding:10px 20px;text-shadow:1px 1px 3px black;cursor:pointer;">Logout</a>
</body>
</html>